<mat-card>
    <mat-tab-group>
        <mat-tab label="Podstawowe dane">
            <mat-card-content>
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <mat-form-field>
                                <mat-label>Cena</mat-label>
                                <input [(ngModel)]="editedCar.pricePerDay" type="number" matInput
                                    [formControl]="inputsFormControl.pricePerDayFormControl"
                                    [errorStateMatcher]="matcher" placeholder="Podaj markę samochodu">
                                <mat-error
                                    *ngIf="inputsFormControl.pricePerDayFormControl.hasError('min') || inputsFormControl.pricePerDayFormControl.hasError('max')">
                                    Wprowadź poprawną cenę najmu samochodu z zakresu 0 - 15000 zł
                                </mat-error>
                                <mat-error *ngIf="inputsFormControl.pricePerDayFormControl.hasError('required')">
                                    Cena jest <strong>wymagana</strong>
                                </mat-error>
                            </mat-form-field>
                            <br>
                            <mat-form-field>
                                <mat-label>Marka</mat-label>
                                <input [(ngModel)]="editedCar.brand" type="text" matInput
                                    [formControl]="inputsFormControl.brandFormControl" [errorStateMatcher]="matcher"
                                    placeholder="Podaj markę samochodu">
                                <mat-error
                                    *ngIf="inputsFormControl.brandFormControl.hasError('minlength') || inputsFormControl.brandFormControl.hasError('maxlength')">
                                    Wprowadź poprawną nazwę marki samochodu
                                </mat-error>
                                <mat-error *ngIf="inputsFormControl.brandFormControl.hasError('required')">
                                    Marka jest <strong>wymagana</strong>
                                </mat-error>
                            </mat-form-field>
                            <br>
                            <mat-form-field>
                                <mat-label>Model</mat-label>
                                <input [(ngModel)]="editedCar.model" type="text" matInput
                                    [formControl]="inputsFormControl.modelFormControl" [errorStateMatcher]="matcher"
                                    placeholder="Podaj model samochodu">
                                <mat-error
                                    *ngIf="inputsFormControl.modelFormControl.hasError('minlength') || inputsFormControl.modelFormControl.hasError('maxlength')">
                                    Wprowadź poprawny model samochodu
                                </mat-error>
                                <mat-error *ngIf="inputsFormControl.modelFormControl.hasError('required')">
                                    Model jest <strong>wymagany</strong>
                                </mat-error>
                            </mat-form-field>
                            <br>
                            <mat-form-field>
                                <mat-label>Rocznik</mat-label>
                                <input [(ngModel)]="editedCar.productionYear" type="number" matInput
                                    [formControl]="inputsFormControl.yearFormControl" [errorStateMatcher]="matcher"
                                    placeholder="Podaj rocznik samochodu">
                            </mat-form-field>
                            <mat-error
                                *ngIf="inputsFormControl.yearFormControl.hasError('min') || inputsFormControl.yearFormControl.hasError('max')">
                                Wprowadź poprawny rocznik samochodu
                            </mat-error>
                            <mat-error *ngIf="inputsFormControl.yearFormControl.hasError('required')">
                                Rocznik samochodu jest <strong>wymagany</strong>
                            </mat-error>
                            <br>
                            <mat-form-field>
                                <mat-label>Moc [HP/KM]</mat-label>
                                <input [(ngModel)]="editedCar.horsepower" type="number" matInput
                                    [formControl]="inputsFormControl.horsePowerFormControl"
                                    [errorStateMatcher]="matcher" placeholder="Podaj moc samochodu">
                            </mat-form-field>
                            <mat-error
                                *ngIf="inputsFormControl.horsePowerFormControl.hasError('min') || inputsFormControl.horsePowerFormControl.hasError('max')">
                                Wprowadź poprawną moc samochodu
                            </mat-error>
                            <mat-error *ngIf="inputsFormControl.horsePowerFormControl.hasError('required')">
                                Moc samochodu jest <strong>wymagana</strong>
                            </mat-error>
                            <br>
                            <mat-form-field>
                                <mat-label>Pojemność silnika</mat-label>
                                <input [(ngModel)]="editedCar.engineCapacity" type="number" matInput
                                    [formControl]="inputsFormControl.engineCapacityFormControl"
                                    [errorStateMatcher]="matcher" placeholder="Podaj pojemność samochodu">
                            </mat-form-field>
                            <mat-error
                                *ngIf="inputsFormControl.engineCapacityFormControl.hasError('minlength') || inputsFormControl.engineCapacityFormControl.hasError('maxlength')">
                                Wprowadź poprawną pojemność samochodu
                            </mat-error>
                            <mat-error *ngIf="inputsFormControl.engineCapacityFormControl.hasError('required')">
                                Pojemność samochodu jest <strong>wymagana</strong>
                            </mat-error>
                            <br>
                            <mat-form-field>
                                <mat-label>Numer rejestracyjny</mat-label>
                                <input [(ngModel)]="editedCar.registrationNumber" type="text" matInput
                                    [formControl]="inputsFormControl.registrationFormControl"
                                    [errorStateMatcher]="matcher" placeholder="Podaj numer rejestracyjny samochodu">
                            </mat-form-field>
                            <mat-error
                                *ngIf="inputsFormControl.registrationFormControl.hasError('minlength') || inputsFormControl.registrationFormControl.hasError('maxlength')">
                                Wprowadź poprawny numer rejestracyjny
                            </mat-error>
                            <mat-error *ngIf="inputsFormControl.registrationFormControl.hasError('required')">
                                Numer rejestracyjny pojazdu jest <strong>wymagany</strong>
                            </mat-error>
                            <br>
                            <mat-form-field>
                                <mat-label>Ilość siedzeń</mat-label>
                                <input [(ngModel)]="editedCar.seatsNumber" type="number" matInput
                                    [formControl]="inputsFormControl.seatsFormControl" [errorStateMatcher]="matcher"
                                    placeholder="Podaj pojemność samochodu">
                            </mat-form-field>
                            <mat-error
                                *ngIf="inputsFormControl.seatsFormControl.hasError('min') || inputsFormControl.seatsFormControl.hasError('max')">
                                Wprowadź poprawną ilość siedzeń pojazdu
                            </mat-error>
                            <mat-error *ngIf="inputsFormControl.seatsFormControl.hasError('required')">
                                Ilość siedzeń samochodu jest <strong>wymagana</strong>
                            </mat-error>
                            <br>
                            <mat-form-field class="full-width">
                                <mat-label>Paliwo</mat-label>
                                <mat-select [(ngModel)]="editedCar.fuelType" name="carStatus" required>
                                    <mat-option [value]="0">Benzyna</mat-option>
                                    <mat-option [value]="1">Diesel</mat-option>
                                    <mat-option [value]="2">LPG</mat-option>
                                    <mat-option [value]="3">Elektryczny</mat-option>
                                    <mat-option [value]="4">Wodorowy</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <br>
                            <mat-form-field>
                                <mat-label>Szczegółowy opis</mat-label>
                                <textarea [(ngModel)]="editedCar.longDescription" type="text" matInput
                                    [formControl]="inputsFormControl.longDescriptionFormControl"
                                    [errorStateMatcher]="matcher" placeholder="Podaj opis samochodu"> </textarea>
                            </mat-form-field>
                            <mat-error
                                *ngIf="inputsFormControl.longDescriptionFormControl.hasError('minlength') || inputsFormControl.longDescriptionFormControl.hasError('maxlength')">
                                Wprowadź poprawny opis samochodu
                            </mat-error>
                            <mat-error *ngIf="inputsFormControl.longDescriptionFormControl.hasError('required')">
                                Opis samochodu jest <strong>wymagany</strong>
                            </mat-error>
                            <br>
                            <mat-form-field>
                                <mat-label>Krótki opis</mat-label>
                                <textarea [(ngModel)]="editedCar.shortDescription" type="text" matInput
                                    [formControl]="inputsFormControl.shortDescriptionFormControl"
                                    [errorStateMatcher]="matcher" placeholder="Podaj opis samochodu"> </textarea>
                            </mat-form-field>
                            <mat-error
                                *ngIf="inputsFormControl.shortDescriptionFormControl.hasError('minlength') || inputsFormControl.shortDescriptionFormControl.hasError('maxlength')">
                                Wprowadź poprawny opis samochodu
                            </mat-error>
                            <mat-error *ngIf="inputsFormControl.shortDescriptionFormControl.hasError('required')">
                                Opis samochodu jest <strong>wymagany</strong>
                            </mat-error>
                            <br>
                            <button mat-button class="col-12"
                                (click)="editCar(inputsFormControl.pricePerDayFormControl.value || '', inputsFormControl.brandFormControl.value || '', inputsFormControl.modelFormControl.value || '', inputsFormControl.yearFormControl.value || '', inputsFormControl.horsePowerFormControl.value || '', inputsFormControl.engineCapacityFormControl.value || '', inputsFormControl.registrationFormControl.value || '', inputsFormControl.seatsFormControl.value || '', inputsFormControl.shortDescriptionFormControl.value || '', inputsFormControl.longDescriptionFormControl.value || '')">
                                Zmień opis
                            </button>
                        </div>
                    </div>
                </div>
            </mat-card-content>
        </mat-tab>
        <mat-tab label="Zdjęcia">
            <input type="file" (change)="onFileChange($event)"><br>
            <mat-checkbox [(ngModel)]="isMainPhoto">Główne
                zdjęcie</mat-checkbox>
            <button (click)="addNewPhoto()">Dodaj zdjęcie samochodu</button>
            <div>
                <div *ngFor="let photo of car.car.photos | keyvalue;" style="border-bottom: 2px black solid;">
                    Id: {{photo.key}}
                    <img style="height: 100px; width: 100px; margin: 15px" mat-card-image
                        src="data:image/jpeg;base64,{{photo.value}}" alt="Photo of car">
                    <button mat-button (click)="removePhoto(photo?.key)">
                        <mat-icon>remove_circle</mat-icon>
                    </button>
                </div>
            </div>
        </mat-tab>
    </mat-tab-group>
</mat-card>